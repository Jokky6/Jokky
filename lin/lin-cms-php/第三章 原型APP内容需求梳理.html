<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第三章 内容需求梳理 | Lin Books</title>
    <meta name="description" content="This is Lin books">
    <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.a7d203bd.css" as="style"><link rel="preload" href="/assets/js/app.692f6a03.js" as="script"><link rel="preload" href="/assets/js/2.a2f7efd9.js" as="script"><link rel="preload" href="/assets/js/15.05f6edb8.js" as="script"><link rel="preload" href="/assets/js/5.9bc7c4fb.js" as="script"><link rel="preload" href="/assets/js/13.4d441c52.js" as="script"><link rel="preload" href="/assets/js/12.c861f4d7.js" as="script"><link rel="prefetch" href="/assets/js/10.c87da524.js"><link rel="prefetch" href="/assets/js/11.f912f175.js"><link rel="prefetch" href="/assets/js/14.bf7bfdc1.js"><link rel="prefetch" href="/assets/js/16.5b48ad25.js"><link rel="prefetch" href="/assets/js/17.646786dd.js"><link rel="prefetch" href="/assets/js/18.f2479593.js"><link rel="prefetch" href="/assets/js/19.cef3a76b.js"><link rel="prefetch" href="/assets/js/20.e102ff37.js"><link rel="prefetch" href="/assets/js/21.af10237c.js"><link rel="prefetch" href="/assets/js/22.2d6bc279.js"><link rel="prefetch" href="/assets/js/23.6fc9562d.js"><link rel="prefetch" href="/assets/js/24.b1047d55.js"><link rel="prefetch" href="/assets/js/25.7247b7c2.js"><link rel="prefetch" href="/assets/js/26.47d0a6d6.js"><link rel="prefetch" href="/assets/js/27.97f8ca0a.js"><link rel="prefetch" href="/assets/js/28.a916f916.js"><link rel="prefetch" href="/assets/js/29.36077ef7.js"><link rel="prefetch" href="/assets/js/3.b4b8313d.js"><link rel="prefetch" href="/assets/js/30.daf4eaad.js"><link rel="prefetch" href="/assets/js/31.85211272.js"><link rel="prefetch" href="/assets/js/32.b501c42c.js"><link rel="prefetch" href="/assets/js/33.5f05f8ef.js"><link rel="prefetch" href="/assets/js/4.9374ee9c.js"><link rel="prefetch" href="/assets/js/6.4a6fbe1b.js"><link rel="prefetch" href="/assets/js/7.3afbe7e5.js"><link rel="prefetch" href="/assets/js/8.4c9562f2.js"><link rel="prefetch" href="/assets/js/9.75b26b74.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a7d203bd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-76b5edba><header class="navbar" data-v-76b5edba><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" placeholder="请输入搜索内容" value=""> <!----></div> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/lin/lin-ui/" class="nav-link">微信小程序入门与实践（第二版）</a></div><div class="nav-item"><a href="/lin/lin-cms-koa2/" class="nav-link">koa2实战</a></div><div class="nav-item"><a href="/lin/lin-cms-php/" class="nav-link router-link-active">lin-cms-php&amp;Vue教程</a></div> <!----></nav> <div class="logo can-show" data-v-7dfc7a80><img src="/left-logo.png" alt="Lin Books" class="image" data-v-7dfc7a80></div></div></header> <div class="sidebar-mask" data-v-76b5edba></div> <aside class="sidebar normal" data-v-76b5edba><!----> <!----> <!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/lin/lin-ui/" class="nav-link">微信小程序入门与实践（第二版）</a></div><div class="nav-item"><a href="/lin/lin-cms-koa2/" class="nav-link">koa2实战</a></div><div class="nav-item"><a href="/lin/lin-cms-php/" class="nav-link router-link-active">lin-cms-php&amp;Vue教程</a></div> <!----></nav> <div class="logo" data-v-7dfc7a80 data-v-76b5edba><img src="/left-logo.png" alt="Lin Books" class="image" data-v-7dfc7a80></div> <div class="info-container" data-v-76b5edba><div class="content__author" data-v-76b5edba><div class="author-container" data-v-4cbd787c><img src="../../../php-author.png" alt="头像" class="avatar" data-v-4cbd787c> <div class="author-info" data-v-4cbd787c><p name="沁塵" class="name" data-v-4cbd787c>沁塵</p> <span job="不知名公司项目经理" class="job" data-v-4cbd787c>不知名公司项目经理</span></div></div></div> <div class="content__adverse" data-v-76b5edba><div class="adverse" data-v-39c8d1c7><div class="book-name" data-v-39c8d1c7>Lin CMS PHP&amp;Vue教程</div> <!----></div></div></div> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>lin-cms-php</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/lin/lin-cms-php/" class="sidebar-link">前言</a></li><li><a href="/lin/lin-cms-php/第一章 关于教程.html" class="sidebar-link">第一章 关于教程</a></li><li><a href="/lin/lin-cms-php/第二章 开发环境搭建.html" class="sidebar-link">第二章 开发环境搭建</a></li><li><a href="/lin/lin-cms-php/第三章 原型APP内容需求梳理.html" class="active sidebar-link">第三章 内容需求梳理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lin/lin-cms-php/第三章 原型APP内容需求梳理.html#原型选择" class="sidebar-link">原型选择</a></li><li class="sidebar-sub-header"><a href="/lin/lin-cms-php/第三章 原型APP内容需求梳理.html#首页内容梳理" class="sidebar-link">首页内容梳理</a></li><li class="sidebar-sub-header"><a href="/lin/lin-cms-php/第三章 原型APP内容需求梳理.html#分类内容梳理" class="sidebar-link">分类内容梳理</a></li><li class="sidebar-sub-header"><a href="/lin/lin-cms-php/第三章 原型APP内容需求梳理.html#购物车、我的内容管理需求" class="sidebar-link">购物车、我的内容管理需求</a></li><li class="sidebar-sub-header"><a href="/lin/lin-cms-php/第三章 原型APP内容需求梳理.html#app内业务管理需求" class="sidebar-link">APP内业务管理需求</a></li><li class="sidebar-sub-header"><a href="/lin/lin-cms-php/第三章 原型APP内容需求梳理.html#需求汇总" class="sidebar-link">需求汇总</a></li><li class="sidebar-sub-header"><a href="/lin/lin-cms-php/第三章 原型APP内容需求梳理.html#最终架构" class="sidebar-link">最终架构</a></li></ul></li><li><a href="/lin/lin-cms-php/第四章 后端接口开发.html" class="sidebar-link">第四章 后端接口开发</a></li></ul></section></li></ul> </aside> <main class="page" data-v-76b5edba> <div class="main-page"><div class="content__default"><h1 id="第三章-内容需求梳理"><a href="#第三章-内容需求梳理" aria-hidden="true" class="header-anchor">#</a> 第三章 内容需求梳理</h1> <h2 id="原型选择"><a href="#原型选择" aria-hidden="true" class="header-anchor">#</a> 原型选择</h2> <p>为了体现课程内容的实用性，前端原型APP我们选择一款微信小程序——零食商贩，读者可在微信中搜索该小程序或扫一扫体验：
</p><div class="img-container"><img src="/assets/img/demo.9721515c.png" width="250" height="270" alt="图片名称"></div><p></p> <p>选择该APP的理由如下：</p> <ul><li>纯前端的应用，符合主流技术栈，符合教程大纲</li> <li>电商类，涉及到商品管理、订单管理等，推广位管理等贴近真实的业务场景</li></ul> <blockquote><p>本教程中，前端APP并不是必须，只是一个参考的原型，所以本教程不会教大家写一个小程序,只是通过梳理这个APP的内容管理需求来实现一个CMS。如果读者想获取原型APP的源码，可在慕课网购买<a href="https://coding.imooc.com/class/97.html" target="_blank" rel="noopener noreferrer">《ThinkPHP5.0+小程序商城构建全栈应用》<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>视频课程，这个课程也是属于一个前后端分离的项目实战教程，小程序是项目的前端应用部分，课程附赠最终的前后端源码。</p></blockquote> <h2 id="首页内容梳理"><a href="#首页内容梳理" aria-hidden="true" class="header-anchor">#</a> 首页内容梳理</h2> <div class="img-container"><img src="/assets/img/demo-home-gif.6e3d23b1.gif"></div> <p>从上面的首页演示可以看出，首页涉及三大内容模块即<code>轮播图</code>、<code>精选主题</code>、<code>最近新品</code>，这是最常见的电商类APP业务模块。</p> <ul><li>需求背景</li></ul> <p>首页对于一个APP来说，是第一个接触用户的落地页面（启动页除外），首页的UI、交互、业务模块、性能都直接影响了用户的留存和转化，本小节主要从业务模块的角度出发去分析。</p> <p>在现实业务场景中，我们经常需要第一时间把<code>活动</code>、<code>推荐</code>、<code>新品发布</code>等信息及时呈现给用户，而且这类信息还存在着临时性（特定时期有效，如双11、618）、不确定性（需要临时下架），这就意味着我们不可能把这类信息写死在前端的代码中，因为无论是小程序还是Android、iOS，应用更新发布都是需要审核时间的，而且还可能过不了审。这种业务信息一有变化通过改代码重新审核发布的流程无论从管理、经营还是成本角度考虑都是不可取的，在某些情况下还可能会造成公司经济损失。</p> <blockquote><p>业务员想看看目前正在推广的产品信息需要打开APP；用户在11月12日还看到了双11的1元秒杀iPhone X并购买成功；推广位用了某明星的相片后收到了律师函警告；影响技术部门与业务部门的关系等等</p></blockquote> <ul><li>解决方案</li></ul> <p>解决办法也很简单，把这部分的数据存到数据库中，每次加载首页的时候，前端就去发起一个请求调用后端接口获取数据然后渲染到页面，当业务内容有变化的时候，我们只需要修改下数据库里的内容就可以实现实时的动态改变业务信息。</p> <ul><li>实现方案</li></ul> <ol><li>数据库中创建banner（轮播图）、theme（专题）、product(商品)三张表</li> <li>通过CMS实现对相应的数据库表的增、删、改、查</li> <li>APP后端实现轮播图、专题、商品列表接口供APP前端前端调用。</li></ol> <blockquote><p>这里的APP后端指的是为原型APP提供数据和业务逻辑处理的后端，因为原型APP本身也是一个前后端分离的项目。</p></blockquote> <h2 id="分类内容梳理"><a href="#分类内容梳理" aria-hidden="true" class="header-anchor">#</a> 分类内容梳理</h2> <div class="img-container"><img src="/assets/img/demo-category.f2ee4acc.png"></div> <p>这个页面主要是对商品分类的展示，页面主要分为左右两个区域。点击左边区域的分类标签时，右边区域会显示相应分类的头图、分类含有的商品。</p> <ul><li>需求背景</li></ul> <p>这个页面的内容管理需求本质上与首页一致，分类会随着业务发展而调整，商品可能会上新、下架、缺货，一样存在着临时性和不确定性。</p> <ul><li>解决方案</li></ul> <p>这部分的数据存到数据库中，每次加载分类页面的时候，前端就去发起一个请求调用后端接口获取数据然后渲染到页面，当业务内容有变化的时候，我们只需要修改下数据库里的内容就可以实现实时的动态改变业务信息。</p> <ul><li>实现方案</li></ul> <ol><li>数据库中创建category（分类）表，produc（商品）表用一个category_id字段对应category表里的某条分类记录，来表明这个商品属于哪个分类</li> <li>通过CMS实现对相应的数据库表的增、删、改、查</li> <li>APP后端实现查询分类列表、查询指定分类下商品接口供前端APP调用。</li></ol> <h2 id="购物车、我的内容管理需求"><a href="#购物车、我的内容管理需求" aria-hidden="true" class="header-anchor">#</a> 购物车、我的内容管理需求</h2> <p><code>购物车</code>页面没有内容管理需求，购物车里有什么是用户自己决定的。</p> <p>至于<code>我的</code>页面，目前原型APP中该页面没有内容管理的需求，但在真实业务场景中这个页面往往也是堆砌了各种推广位，这部分也是属于内容管理需求，后面具体实战开发过程中会以扩展内容讲解。另外通过<code>我的</code>这个页面可以延伸出一个会员管理的需求。对于用户来说，在APP里他只关注和看到自己，但是对于公司来说，它是需要看到全部所有用户。每个APP都存在着会员体系，会有一张<code>user</code>表，记录这用户的一些基本信息，如姓名、手机、年龄、城市等等。随着业务的发展，会员体量的增加，海量的会员数据有助于提供决策的数据支持，另外针对一些不良用户，也需要对其账户进行禁用或者限制功能，这些也是内容管理的需求。</p> <blockquote><p>无论是什么应用，都是围绕着<code>用户</code>的，互联网应用这块更是如此，所以基于<code>用户</code>的内容管理和利用方式多种多样，可大可小，本教程也会由浅及深，通过几个真实业务需求来实现这一块的管理。</p></blockquote> <h2 id="app内业务管理需求"><a href="#app内业务管理需求" aria-hidden="true" class="header-anchor">#</a> APP内业务管理需求</h2> <p>在原型APP的业务逻辑中，用户下单并成功支付后，订单会处于待发货的状态，当订单发货了，需要改变订单的状态来让用户知道已经发货。</p> <ul><li>需求背景</li></ul> <p>订单管理属于复杂、常见的内容管理之一，对于用户来说，他需要关注自己的订单有效性和实时状态，对于公司来说，需要订单信息来评估经营情况和处理售后问题。</p> <ul><li>解决方案</li></ul> <p>使用CMS进行订单数据管理。</p> <ul><li>实现方案</li></ul> <ol><li>通过CMS实现订单管理模块，提供各种条件查询、订单操作、导出excel等。</li></ol> <h2 id="需求汇总"><a href="#需求汇总" aria-hidden="true" class="header-anchor">#</a> 需求汇总</h2> <p>以上就是对原型APP——零食商贩的页面内容管理需求的梳理，后面的章节将带着大家从这些需求出发，逐个开发实现对其内容管理的实现，并以此为基础，发散思维，模拟真实业务需求，延伸到各个业务相关管理功能的开发。这里我们先简单对需求进行汇总和拟定部分需要延伸的管理需求，后面会出于教程内容连贯性、知识点覆盖考虑发生变化（绝大数情况是下好的变化）：</p> <div class="img-container"><img src="/assets/img/sum.884e8959.png" class="full-img"></div> <blockquote><p>回顾第一章的内容，以上的需求内容我们直接操作数据库可以吗？作者就亲身经历过没有利用CMS直接操作数据库的日子，如果你感受不到那种痛苦，那么请回过头去看看第一章中介绍CMS的小节内容</p></blockquote> <h2 id="最终架构"><a href="#最终架构" aria-hidden="true" class="header-anchor">#</a> 最终架构</h2> <div class="img-container"><img src="/assets/img/framework.8e6849ea.png" class="full-img"></div> <blockquote><p>细心的你应该发现，我们开发一个CMS，并不会对原来项目产生任何影响。</p></blockquote> </div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新: </span> <span class="time">7/4/2019, 9:02:34 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/lin/lin-cms-php/第二章 开发环境搭建.html" class="prev">
          第二章 开发环境搭建
        </a></span> <span class="next"><a href="/lin/lin-cms-php/第四章 后端接口开发.html">
          第四章 后端接口开发
        </a>
        →
      </span></p></div> </div></main></div><div class="global-ui"><div data-v-262bdc3a data-v-262bdc3a><!----> <div class="wrap" data-v-262bdc3a></div> <!----></div></div></div>
    <script src="/assets/js/app.692f6a03.js" defer></script><script src="/assets/js/2.a2f7efd9.js" defer></script><script src="/assets/js/15.05f6edb8.js" defer></script><script src="/assets/js/5.9bc7c4fb.js" defer></script><script src="/assets/js/13.4d441c52.js" defer></script><script src="/assets/js/12.c861f4d7.js" defer></script>
  </body>
</html>
